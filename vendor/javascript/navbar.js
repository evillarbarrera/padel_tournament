// navbar@3.0.0 downloaded from https://ga.jspm.io/npm:navbar@3.0.0/navbar.js

const e="navbar-active";let t=false;try{const e=Object.defineProperty({},"passive",{get(){t=true;return true}});window.addEventListener("test",null,e)}catch{}function createAndAppendListItems(e,t,n){const l=[];for(const a of t){const t=n(a);e.appendChild(t);l.push({element:a,navElement:t})}return l}function makeHandleScroll(t,n){function handleScroll(){
/** @type {HTMLElement|null} */
let n=null;let l=Infinity;for(const a of t){const t=Math.abs(a.element.getBoundingClientRect().top);if(t>l)a.navElement.classList.remove(e);else{n&&n.classList.remove(e);n=a.navElement;l=t}}n.classList.add(e)}if(typeof n!=="number"||isNaN(n))return handleScroll;let l;function nullifyTimeout(){l=null}return function debouncedHandleScroll(){if(!l){handleScroll();l=setTimeout(nullifyTimeout,n)}}}function addScrollListener(e,n){function scrollHandleWrapper(t){t.target===e&&n()}if(e.addEventListener)e.addEventListener("scroll",scrollHandleWrapper,!!t&&{passive:true});else{if(!e.attachEvent)throw new Error("This browser does not support addEventListener or attachEvent.");e.attachEvent("onscroll",scrollHandleWrapper)}n()}function makeNav(e){if(!e||!e.elementList||!e.makeNavListItem)throw new Error("Options object with elementList and makeNavListItem must be provided.");const t=document.createElement(e.tagName||"nav");const n=document.createElement("ul");const l=e.target||document;const a=createAndAppendListItems(n,e.elementList,e.makeNavListItem);addScrollListener(l,makeHandleScroll(a,e.debounceTime));t.appendChild(n);return t}export{makeNav as default};

