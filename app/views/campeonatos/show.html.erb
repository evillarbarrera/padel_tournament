<!-- Mensaje de notificación -->
<% if notice.present? %>
  <div class="alert alert-success" role="alert" style="font-family: Georgia, serif; font-size: 1rem;">
    <%= notice %>
  </div>
<% end %>

<h1 class="mb-4 text-center" style="font-family: Georgia, serif; font-weight: 700;">Detalles del Campeonato</h1>

<div class="card mb-5 shadow-sm" style="font-family: Georgia, serif; font-size: 1.1rem;">

  <div class="card-body">
    <dl class="row mb-4">
      <dt class="col-sm-4 fw-bold text-end pe-3 border-end">Nombre</dt>
      <dd class="col-sm-8 ps-3"><%= @campeonato.nombre %></dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end">Tipo</dt>
      <dd class="col-sm-8 ps-3">
        <span class="badge 
          <%= case @campeonato.tipo.downcase
              when 'regional' then 'bg-primary'
              when 'nacional' then 'bg-success'
              when 'internacional' then 'bg-warning text-dark'
              else 'bg-secondary' end %>">
          <%= @campeonato.tipo.capitalize %>
        </span>
      </dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end">Fecha de Inicio</dt>
      <dd class="col-sm-8 ps-3"><%= @campeonato.fecha_inicio.strftime("%d %B %Y") %></dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end">Fecha de Término</dt>
      <dd class="col-sm-8 ps-3"><%= @campeonato.fecha_termino.strftime("%d %B %Y") %></dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end">Cupos Máximos</dt>
      <dd class="col-sm-8 ps-3"><%= @campeonato.cupos_maximos %></dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end">Estado</dt>
      <dd class="col-sm-8 ps-3">
        <span class="badge 
          <%= case @campeonato.estado.downcase
              when 'activo' then 'bg-success'
              when 'finalizado' then 'bg-secondary'
              when 'cancelado' then 'bg-danger'
              else 'bg-info' end %>">
          <%= @campeonato.estado.capitalize %>
        </span>
      </dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end align-top">Descripción</dt>
      <dd class="col-sm-8 ps-3"><%= simple_format(@campeonato.descripcion) %></dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end align-top">Normativo</dt>
      <dd class="col-sm-8 ps-3"><%= simple_format(@campeonato.normativo) %></dd>

      <dt class="col-sm-4 fw-bold text-end pe-3 border-end align-top">Reglas</dt>
      <dd class="col-sm-8 ps-3"><%= simple_format(@campeonato.reglas) %></dd>
    </dl>
  </div>
</div>

<h2 class="mb-3" style="font-family: Georgia, serif;">Tipos de Inscripción</h2>

<% if @campeonato.tipo_inscripcions.any? %>
  <table class="table table-hover align-middle" style="font-family: Georgia, serif;">
    <thead class="table-light">
      <tr>
        <th>Nombre</th>
        <th>Monto</th>
        <th>Fecha Límite de Pago</th>
        <th>Beneficios</th>
      </tr>
    </thead>
    <tbody>
      <% @campeonato.tipo_inscripcions.each do |inscripcion| %>
        <tr>
          <td><%= inscripcion.nombre %></td>
          <td><span class="text-success fw-bold"><%= number_to_currency(inscripcion.monto, unit: "$") %></span></td>
          <td><%= inscripcion.fecha_limite_pago.strftime("%d %b %Y") %></td>
          <td><%= inscripcion.beneficios.presence || "—" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="text-muted fst-italic" style="font-family: Georgia, serif;">No hay tipos de inscripción definidos.</p>
<% end %>

<hr>

<h2 class="mb-3" style="font-family: Georgia, serif;">Categorías</h2>

<% if @campeonato.categorias.any? %>
  <ul class="list-group mb-4" style="font-family: Georgia, serif;">
    <% @campeonato.categorias.each do |categoria| %>
      <li class="list-group-item"><%= categoria.nombre %></li>
    <% end %>
  </ul>
<% else %>
  <p class="text-muted fst-italic" style="font-family: Georgia, serif;">No hay categorías definidas.</p>
<% end %>

<div class="d-flex gap-3" style="font-family: Georgia, serif;">
  <%= link_to "Editar Campeonato", edit_campeonato_path(@campeonato), class: "btn btn-outline-primary" %>
  <%= link_to "Volver a Campeonatos", campeonatos_path, class: "btn btn-outline-secondary" %>
  <%= button_to "Eliminar Campeonato", @campeonato, method: :delete, data: { confirm: "¿Estás seguro?" }, class: "btn btn-danger" %>
</div>
